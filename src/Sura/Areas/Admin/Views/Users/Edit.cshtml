@using Sura.Areas.Admin.Views.Users.Models
@model Edit
@{
    ViewBag.Title = "Edit User";
}

<section class="twelve columns">
<h3>Edit - '@Model.Id'</h3>

@if (@ViewBag.Success == true)
{
    <div class="alert-box success ">
        The user was successfully updated.
        <a href="" class="close">&times;</a>
    </div>
}

@using (Html.BeginForm("Edit", "Users", FormMethod.Post, new { @class = "nice" }))
{
    @Html.ValidationSummary()
    @Html.HiddenFor(model => model.Id)

    <fieldset>
        <h5>Change Password</h5>

        @Html.LabelFor(model => model.Password)
        @Html.TextBoxFor(model => model.Password, new { @class = "input-text" })

        @Html.LabelFor(model => model.PasswordRetype)
        @Html.TextBoxFor(model => model.PasswordRetype, new { @class = "input-text" })
    </fieldset>  
    
    <fieldset>
        <h5>Personal Information</h5>

        @Html.LabelFor(model => model.Firstname)
        @Html.TextBoxFor(model => model.Firstname, new { @class = "input-text" })

        @Html.LabelFor(model => model.Surname)
        @Html.TextBoxFor(model => model.Surname, new { @class = "input-text" })

        @Html.LabelFor(model => model.Nickname)
        @Html.TextBoxFor(model => model.Nickname, new { @class = "input-text" })
    </fieldset>  

    <input type="submit" value="Update User" class="nice radius blue button" />
} 

<span class="sub-buttons">
@Ajax.ActionLink("Delete", "Delete", "Users", new { username = @Model.Id }, new AjaxOptions
{
    HttpMethod = "DELETE",
    Confirm = "Are you sure you want to delete this user?",
    OnSuccess = "redirect('" + @Url.Action("List", "Users") + "')"
}, new { @class = "nice small radius red button" })
</span>

</section>